-- 更新顏色腳本 V2 - 使用 50 色淡雅色系
-- 執行時間：在 Neon SQL Editor 中執行此腳本

-- Budget Categories - 分配淡雅色調 (50色系統)
UPDATE budget_categories 
SET color = (
  ARRAY[
    -- 第一輪：淡雅藍綠色系 (10個)
    'hsl(220, 65%, 70%)', 'hsl(200, 60%, 72%)', 'hsl(180, 55%, 68%)', 'hsl(160, 52%, 65%)',
    'hsl(140, 55%, 68%)', 'hsl(90, 50%, 70%)', 'hsl(60, 58%, 72%)', 'hsl(40, 62%, 70%)',
    'hsl(20, 65%, 72%)', 'hsl(0, 58%, 72%)',
    
    -- 第二輪：淡雅粉紫色系 (10個)
    'hsl(340, 55%, 72%)', 'hsl(320, 50%, 72%)', 'hsl(280, 55%, 73%)', 'hsl(260, 52%, 70%)',
    'hsl(240, 58%, 72%)', 'hsl(210, 62%, 70%)', 'hsl(190, 58%, 68%)', 'hsl(170, 50%, 68%)',
    'hsl(120, 48%, 68%)', 'hsl(50, 65%, 70%)',
    
    -- 第三輪：更淡的色調 (10個)
    'hsl(215, 55%, 75%)', 'hsl(195, 50%, 75%)', 'hsl(175, 48%, 73%)', 'hsl(155, 45%, 70%)',
    'hsl(135, 48%, 72%)', 'hsl(80, 45%, 73%)', 'hsl(55, 55%, 75%)', 'hsl(35, 58%, 73%)',
    'hsl(15, 60%, 75%)', 'hsl(345, 52%, 75%)',
    
    -- 第四輪：中度飽和 (10個)
    'hsl(225, 60%, 68%)', 'hsl(205, 55%, 68%)', 'hsl(185, 50%, 65%)', 'hsl(165, 48%, 65%)',
    'hsl(145, 50%, 66%)', 'hsl(95, 48%, 68%)', 'hsl(65, 55%, 68%)', 'hsl(45, 58%, 68%)',
    'hsl(25, 60%, 70%)', 'hsl(5, 55%, 70%)',
    
    -- 第五輪：柔和色調 (10個)
    'hsl(230, 50%, 73%)', 'hsl(250, 48%, 72%)', 'hsl(270, 50%, 73%)', 'hsl(290, 48%, 72%)',
    'hsl(310, 50%, 73%)', 'hsl(330, 48%, 73%)', 'hsl(350, 50%, 73%)', 'hsl(10, 52%, 72%)',
    'hsl(30, 55%, 72%)', 'hsl(70, 50%, 72%)'
  ]
)[
  1 + (
    (SELECT COUNT(*) FROM budget_categories b2 WHERE b2.created_at < budget_categories.created_at)
    % 50
  )
];

-- Savings Jar Categories - 分配淡雅色調 (50色系統，接續預算類別)
UPDATE savings_jar_categories 
SET color = (
  ARRAY[
    -- 第一輪：淡雅藍綠色系 (10個)
    'hsl(220, 65%, 70%)', 'hsl(200, 60%, 72%)', 'hsl(180, 55%, 68%)', 'hsl(160, 52%, 65%)',
    'hsl(140, 55%, 68%)', 'hsl(90, 50%, 70%)', 'hsl(60, 58%, 72%)', 'hsl(40, 62%, 70%)',
    'hsl(20, 65%, 72%)', 'hsl(0, 58%, 72%)',
    
    -- 第二輪：淡雅粉紫色系 (10個)
    'hsl(340, 55%, 72%)', 'hsl(320, 50%, 72%)', 'hsl(280, 55%, 73%)', 'hsl(260, 52%, 70%)',
    'hsl(240, 58%, 72%)', 'hsl(210, 62%, 70%)', 'hsl(190, 58%, 68%)', 'hsl(170, 50%, 68%)',
    'hsl(120, 48%, 68%)', 'hsl(50, 65%, 70%)',
    
    -- 第三輪：更淡的色調 (10個)
    'hsl(215, 55%, 75%)', 'hsl(195, 50%, 75%)', 'hsl(175, 48%, 73%)', 'hsl(155, 45%, 70%)',
    'hsl(135, 48%, 72%)', 'hsl(80, 45%, 73%)', 'hsl(55, 55%, 75%)', 'hsl(35, 58%, 73%)',
    'hsl(15, 60%, 75%)', 'hsl(345, 52%, 75%)',
    
    -- 第四輪：中度飽和 (10個)
    'hsl(225, 60%, 68%)', 'hsl(205, 55%, 68%)', 'hsl(185, 50%, 65%)', 'hsl(165, 48%, 65%)',
    'hsl(145, 50%, 66%)', 'hsl(95, 48%, 68%)', 'hsl(65, 55%, 68%)', 'hsl(45, 58%, 68%)',
    'hsl(25, 60%, 70%)', 'hsl(5, 55%, 70%)',
    
    -- 第五輪：柔和色調 (10個)
    'hsl(230, 50%, 73%)', 'hsl(250, 48%, 72%)', 'hsl(270, 50%, 73%)', 'hsl(290, 48%, 72%)',
    'hsl(310, 50%, 73%)', 'hsl(330, 48%, 73%)', 'hsl(350, 50%, 73%)', 'hsl(10, 52%, 72%)',
    'hsl(30, 55%, 72%)', 'hsl(70, 50%, 72%)'
  ]
)[
  1 + (
    (
      (SELECT COUNT(*) FROM budget_categories) +
      (SELECT COUNT(*) FROM savings_jar_categories s2 WHERE s2.created_at < savings_jar_categories.created_at)
    ) % 50
  )
];

-- 驗證更新結果
SELECT 'Budget Categories:' AS type, name, color FROM budget_categories ORDER BY created_at;
SELECT 'Savings Jar Categories:' AS type, name, color FROM savings_jar_categories ORDER BY created_at;
